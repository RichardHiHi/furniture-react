{"ast":null,"code":"var _jsxFileName = \"/home/thanh/react-course-comfy-sloth-starter/src/pages/SingleProductPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useProductsContext } from '../context/products_context';\nimport { single_product_url as url } from '../utils/constants';\nimport { formatPrice } from '../utils/helpers';\nimport { Loading, Error, ProductImages, AddToCart, Stars, PageHero } from '../components';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SingleProductPage = () => {\n  _s();\n\n  const id = useParams().id;\n  const {\n    fetchSingleProduct,\n    singleProduct,\n    singleProductLoading,\n    singleProductError: error\n  } = useProductsContext(); // console.log(singleProduct);\n  // console.log(singleProductLoading);\n\n  const {\n    name,\n    price,\n    description,\n    id: SKU,\n    stock,\n    company,\n    images,\n    reviews,\n    stars\n  } = singleProduct;\n  const history = useHistory();\n  useEffect(() => {\n    fetchSingleProduct(`${url}${id}`);\n  }, [id]);\n  useEffect(() => {\n    if (error) {\n      setTimeout(() => {\n        history.goBack();\n      }, 3000);\n    }\n  }, [error]);\n\n  if (singleProductLoading) {\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(PageHero, {\n      title: \"Product\",\n      name: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section section-center page\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        className: \"btn\",\n        children: \"back to products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-center\",\n        children: [/*#__PURE__*/_jsxDEV(ProductImages, {\n          imgs: images\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Stars, {\n            stars: stars,\n            reviews: reviews\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"price\",\n            children: formatPrice(price)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"desc\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Available : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), stock > 0 ? 'In Stock' : 'out of stock']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"SKU :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), SKU]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Brand :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), company]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), stock > 0 && /*#__PURE__*/_jsxDEV(AddToCart, { ...singleProduct\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SingleProductPage, \"1+x/EmVmhk5Br+dPHITDTriyhNY=\", false, function () {\n  return [useParams, useProductsContext, useHistory];\n});\n\n_c = SingleProductPage;\nconst Wrapper = styled.main`\n  .product-center {\n    display: grid;\n    gap: 4rem;\n    margin-top: 2rem;\n  }\n  .price {\n    color: var(--clr-primary-5);\n  }\n  .desc {\n    line-height: 2;\n    max-width: 45em;\n  }\n  .info {\n    text-transform: capitalize;\n    width: 300px;\n    display: grid;\n    grid-template-columns: 125px 1fr;\n    span {\n      font-weight: 700;\n    }\n  }\n\n  @media (min-width: 992px) {\n    .product-center {\n      grid-template-columns: 1fr 1fr;\n      align-items: center;\n    }\n    .price {\n      font-size: 1.25rem;\n    }\n  }\n`;\n_c2 = Wrapper;\nexport default SingleProductPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SingleProductPage\");\n$RefreshReg$(_c2, \"Wrapper\");","map":{"version":3,"sources":["/home/thanh/react-course-comfy-sloth-starter/src/pages/SingleProductPage.js"],"names":["React","useEffect","useParams","useHistory","useProductsContext","single_product_url","url","formatPrice","Loading","Error","ProductImages","AddToCart","Stars","PageHero","styled","Link","SingleProductPage","id","fetchSingleProduct","singleProduct","singleProductLoading","singleProductError","error","name","price","description","SKU","stock","company","images","reviews","stars","history","setTimeout","goBack","Wrapper","main"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useProductsContext } from '../context/products_context';\nimport { single_product_url as url } from '../utils/constants';\nimport { formatPrice } from '../utils/helpers';\nimport {\n  Loading,\n  Error,\n  ProductImages,\n  AddToCart,\n  Stars,\n  PageHero,\n} from '../components';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nconst SingleProductPage = () => {\n  const id = useParams().id;\n  const {\n    fetchSingleProduct,\n    singleProduct,\n    singleProductLoading,\n    singleProductError: error,\n  } = useProductsContext();\n  // console.log(singleProduct);\n  // console.log(singleProductLoading);\n  const {\n    name,\n    price,\n    description,\n    id: SKU,\n    stock,\n    company,\n    images,\n    reviews,\n    stars,\n  } = singleProduct;\n  const history = useHistory();\n  useEffect(() => {\n    fetchSingleProduct(`${url}${id}`);\n  }, [id]);\n  useEffect(() => {\n    if (error) {\n      setTimeout(() => {\n        history.goBack();\n      }, 3000);\n    }\n  }, [error]);\n  if (singleProductLoading) {\n    return (\n      <Wrapper>\n        <Loading />\n      </Wrapper>\n    );\n  }\n  if (error) {\n    return (\n      <Wrapper>\n        <Error />\n      </Wrapper>\n    );\n  }\n  return (\n    <Wrapper>\n      <PageHero title='Product' name={name} />\n      <div className='section section-center page'>\n        <Link to='/products' className='btn'>\n          back to products\n        </Link>\n        <div className='product-center'>\n          <ProductImages imgs={images} />\n          <section className='content'>\n            <h2>{name}</h2>\n            <Stars stars={stars} reviews={reviews} />\n            <h5 className='price'>{formatPrice(price)}</h5>\n            <p className='desc'>{description}</p>\n            <p className='info'>\n              <span>Available : </span>\n              {stock > 0 ? 'In Stock' : 'out of stock'}\n            </p>\n            <p className='info'>\n              <span>SKU :</span>\n              {SKU}\n            </p>\n            <p className='info'>\n              <span>Brand :</span>\n              {company}\n            </p>\n            <hr />\n            {stock > 0 && <AddToCart {...singleProduct} />}\n          </section>\n        </div>\n      </div>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.main`\n  .product-center {\n    display: grid;\n    gap: 4rem;\n    margin-top: 2rem;\n  }\n  .price {\n    color: var(--clr-primary-5);\n  }\n  .desc {\n    line-height: 2;\n    max-width: 45em;\n  }\n  .info {\n    text-transform: capitalize;\n    width: 300px;\n    display: grid;\n    grid-template-columns: 125px 1fr;\n    span {\n      font-weight: 700;\n    }\n  }\n\n  @media (min-width: 992px) {\n    .product-center {\n      grid-template-columns: 1fr 1fr;\n      align-items: center;\n    }\n    .price {\n      font-size: 1.25rem;\n    }\n  }\n`;\n\nexport default SingleProductPage;\n"]},"metadata":{},"sourceType":"module"}